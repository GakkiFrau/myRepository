

1. 汇编语言的语句

	1. <font color = "red">语句格式</font>

		汇编语言源程序由执行性语句（硬指令）和说明性语句（伪指令）构成。

		一般格式：

		​	[名字]	助记符	[操作数]	[;注释]

		​	语句的四个部分之间要用分隔符隔开。标号后用冒号（:）,注释前用分号（;）,操作数与操作数之间一般用逗号（,）,其他部分之间则通常采用空格或制表符。MASM支持续行符（\）

	2. <font color = "red">表达式</font>

		操作数部分可以有一个或多个表达式
		
		表达式主要有数值表达式和地址表达式两种
		
		数值表达式一般由常数，变量和各种运算符组成的表达式
		
		地址表达式一般是标号和名字（变量名，过程名，段名等）构成的表达式
		
		- 算数表达式
		
			> +, - , *, /, MOD
		
		- 逻辑表达式
		
			逻辑表达式由逻辑运算符连接常量，变量组成的表达式
		
			逻辑运算符包括两大类：逻辑运算符和移位运算符
		
			- 逻辑运算符
		
				逻辑运算符包括：AND，OR，NOT，XOR，分别实现按位相与，相或，求反，异或的逻辑运算
		
				> MOV	AX, 34H AND 20H	;相当于 MOV AX, 20H
				>
				> MOV	BX, 34H OR 20H		;相当于 MOV BX, 34H
				>
				> MOV	CX, NOT 34H			 ; 相当于 MOV CX, 0CBH
				>
				> MOV	DX, 34H XOR 20H	;相当于MOV DX, 14H
		
			- 移位运算符
		
				移位运算符包括：SHL和SHR，分别实现逻辑左移和逻辑右移运算，移入低位或高位的是0
		
				> MOV	AX,20H SHL 2		; 相当于 MOV AX, 80H
				>
				> MOV	BX,20H SHR 2		; 相当于 MOV BX, 08H
		
		- 关系表达式
		
			关系表达式由关系运算符连接常量，变量组成的式子。
		
			关系运算符包括：EQ（相等）、NE（不相等）、GT（大于）、LT（小于）、GE（大于等于）、LE（小于等于）
		
			关系运算符连接的操作数必须是数值或同一段内的两个存储单元地址。
		
			关系表达式的运算结果为逻辑值（真或假），MASM用FFFFH（补码-1）表示逻辑真，用0000H表示逻辑假
		
			> MOV 	AX,((PORT LE 5) AND 20H)OR ((PORT GT 5)AND 30H)
			>
			> ;当PORT<= 5时，汇编的结果为MOV AX, 20H
			>
			> ;当PORT>5时，汇编的结果为MOV AX, 30H
		
			此外，在数值表达式中还经常用到高低分离符。该运算符包括HIGH（高字节），LOW（低字节），HIGHWORD（高字）和LOWWORD（低字）
		
			- 字节分离符HIGH和LOW，分别取一个数值常量或符号常量的高字节或低字节部分
		
			- 字分离符HIGHWORD和LOWWORD，分别取一个符号常量的高字或低字部分（从MASM6.0引入）
		
				> CONT_W	DW	034ABH
				>
				> CONT_DW	DD	12345678H
				>
				> ......
				>
				> MOV	AL, HIGH  869AH
				>
				> MOV	BL, LOW  CONT_W
				>
				> MOV	DX, HIGHWORD	CONT_DW
		
		- 运算符的优先级
		
			![1652790776709](C:\Users\Administrator\AppData\Roaming\Typora\typora-user-images\1652790776709.png)
	
	3. 常数，变量和符号
	
		1. 常数
	
			常熟又称常量，表示一个固定的数值。有数值常数，字符串常数和符号常数
	
			- 数值常数
	
				用各种进位计数制表示的固定数值，数值后加后缀字母，以表明使用的进位计数制。如255D、0FFH、11111111B、377O
	
			- 字符串常数
	
				用单引号或双引号括起来的字符串，其数值是字符串中各字符对应的ASCII码的值。如'9' = 39H	'AB' = 4142H	"Hello everyone"
	
			- 符号常数
	
				用标识符表达的数值，一般用于常量的定义，MASM中用符号定义伪指令来实现。
	
				符号定义伪指令有两种：
	
				等价EQU伪指令和等号=伪指令
	
		2. 变量
	
			在说明性语句中，伪指令助记符前的名字项可以是变量名。该类伪指令为数据定义及存储器分配伪操作，也成为变量定义伪指令，为变量申请固定长度的存储空间，并可以同时为相应的存储单元赋初值。语句格式为
	
			> 变量名	伪指令助记符	初值表
	
			- 变量名
	
				变量名是用户自定义的合法标识符，表示初值表首元素的逻辑地址；这样用变量名表示的地址，通常称为符号地址。
	
				设置变量名是为了方便访问它指示的存储单元。也可没有。
	
			- 初值表
	
				初值表中的数据主要是由常数，表达式或"?"，"DUP"组成，各初值之间用逗号隔开。"?"表示初值不确定，"DUP"表示重复赋初值
	
			- 变量定义伪指令助记符
	
				变量定义伪指令根据所申请的主存空间单位分类，说明所定义的数据类型。
	
				变量定义伪指令有：
	
				> DB,	DW,	DD,	DF,	DQ,	DT
	
				1. 定义字节伪指令DB
	
					DB伪指令用于申请一个或多个字节单元，并可以将它们初始化为指定的值。初值表中的每个数据一定是字节量，可以是8位无符号整数或是补码形式的带符号数，也可以是字符串常数
	
				2. 定义字伪指令DW
	
					DW伪指令用于申请一个或多个字单元，并可以将它们初始化为指定的值。初值表中的数据一定是字量（Word）
	
				3. 定义双字伪指令DD
	
					DD伪指令用于申请一个或多个双字单元，并可以将它们初始化为指定的值。初值表中的数据是一个32位的双字量（Double Word）
	
				4. 其他变量定义伪指令
	
					1. 定义3字伪指令DF
	
						DF伪指令用于申请一个或多个3字单元并进行初始化。初值表中的数据是48位数据。在32位处理器中，可以表示位一个48位远指针（16位段地址，32位偏移地址）
	
					2. 定义4字伪指令DQ
	
						DQ伪指令用于申请一个或多个4字单元并进行初始化，初值表中的数据是64位数据，可以表示双精度浮点数。
	
					3. 定义10字节伪指令DT
	
						DT伪指令用于申请一个或多个10个字节单元并进行初始化。初值表中的数据是10字节数据，可以表示压缩BCD码
	
		3. 标号
	
			执行性语句中，硬指令助记符前的名字项为标号，后面要跟冒号。用于表示 当前指令的逻辑地址，通常用于控制转移指令中，即用符号地址表示转向的目标位置
	
	4. 地址计数器和地址表达式
	
		1. 地址计数器$
		2. 地址表达式

